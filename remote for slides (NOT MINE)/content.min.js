! function(e) {
    var t = {};

    function n(o) {
        if (t[o]) return t[o].exports;
        var r = t[o] = {
            i: o,
            l: !1,
            exports: {}
        };
        return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports
    }
    n.m = e, n.c = t, n.d = function(e, t, o) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: o
        })
    }, n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.t = function(e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var o = Object.create(null);
        if (n.r(o), Object.defineProperty(o, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var r in e) n.d(o, r, function(t) {
                return e[t]
            }.bind(null, r));
        return o
    }, n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 1)
}([, function(e, t) {
    var n, o, r, i, s, c = !1,
        l = null;
    firebase.initializeApp({
        apiKey: "AIzaSyBrd4PqBBQwVVZwiPiLgsYiAI6vaSkAhHk",
        authDomain: "remoteforgs.firebaseapp.com",
        databaseURL: "https://remoteforgs.firebaseio.com",
        projectId: "remoteforgs",
        storageBucket: "remoteforgs.appspot.com",
        messagingSenderId: "602692243423"
    });
    var a = function(e, t, n) {
            chrome.runtime.sendMessage({
                from: "content",
                subject: "analytics_event",
                msg: {
                    category: e,
                    action: t,
                    label: n
                }
            })
        },
        d = function(e) {
            chrome.runtime.sendMessage({
                from: "content",
                subject: "analytics_page",
                msg: {
                    page: e
                }
            })
        },
        u = function(e) {
            var t = "previous" === e ? 50 : -10,
                n = document.createElement("script");
            n.textContent = "(" + function(e) {
                var t = document.querySelector(".punch-viewer-container"),
                    n = document.createEvent("Events");
                n.initEvent("mousewheel", !0, !1), n.wheelDelta = e, t.dispatchEvent(n)
            } + ')("' + t + '", )', (document.head || document.documentElement).appendChild(n), n.parentNode.removeChild(n)
        },
        p = function() {
            return Math.floor(9e5 * Math.random()) + 1e5
        },
        g = function() {
            return new Promise(cb = function(e) {
                function t(t, n) {
                    return e.apply(this, arguments)
                }
                return t.toString = function() {
                    return e.toString()
                }, t
            }(function(e, t) {
                chrome.storage.sync.get(o, function(r) {
                    0 === Object.keys(r).length ? s.ref("/slides/" + n).once("value").then(function(r) {
                        if (r.exists()) n = p(), cb(e, t);
                        else {
                            var i = {};
                            i[o] = n, chrome.storage.sync.set(i), c = !0, e()
                        }
                    }) : s.ref("/slides/" + r[o]).once("value").then(function(i) {
                        i.exists() ? (n = r[o], c = !0, e()) : chrome.storage.sync.remove(o, function() {
                            n = p(), cb(e, t)
                        })
                    })
                })
            }))
        },
        f = function(e) {
            var t = s.ref("/slides/" + n);
            t.getRoot().child(".info/connected").on("value", function(n) {
                n.val() && t.once("value").then(function(t) {
                    t.val().offline && m(e)
                })
            }), t.onDisconnect().set({
                offline: !0,
                timestamp: parseInt(Date.now()),
                type: e
            })
        },
        m = function(e) {
            var t, o, i, c, a = null;
            switch (e) {
                case "gslides":
                    t = document.querySelector(".goog-flat-menu-button-caption"), o = parseInt(t.getAttribute("aria-posinset")), i = parseInt(t.getAttribute("aria-setsize")), c = document.querySelector('meta[property="og:title"]').content, a = r.docData[1][o - 1][9];
                    break;
                case "ludus":
                    o = parseInt(document.querySelector("#current-slide").innerHTML), i = parseInt(document.querySelector("#total-slides").innerHTML), c = document.querySelector('[property="og:title"]').content
            }! function(e, t, o, r, i) {
                s.ref("/slides/" + n).set({
                    current_slide: e,
                    total_slide: t,
                    title: o,
                    speaker_note: r,
                    type: i,
                    showSpeakerNote: l
                })
            }(o, i, c, a, e)
        },
        h = function() {
            var e = document.querySelector(".punch-viewer-nav-rounded-container"),
                t = document.createElement("div");
            t.className = "goog-inline-block goog-flat-button", t.style.margin = "0 4px", t.style.padding = "0", t.innerHTML = '\n        <div class=\'goog-toolbar-separator goog-toolbar-separator-disabled goog-inline-block\'></div>\n        <div class="goog-inline-block goog-flat-button">\n            <div class="punch-viewer-captioned-button" id="rfgs_show_id">\n                <div style="width:24px; height:24px">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"\n                        style="pointer-events: none; display: block; width: 100%; height: 100%; fill: #cacaca;">\n                        <path fill="none" d="M0 0h24v24H0V0z"/>\n                        <path d="M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 \n                        7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 \n                        0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>\n                    </svg>\n                </div>\n                <div class="punch-viewer-speaker-notes-text goog-inline-block">Start Remote</div>\n            </div>\n        </div>\n        <div id="rfgs_id_block" class="goog-inline-block goog-flat-button" style="display: none; text-align: center; line-height: 16px;">\n            <div>Slide ID:</div>\n            <div id="rfgs_id_container" style="font-size: 16px; font-weight: 600;">******</div>\n        </div>\n        <div class="goog-inline-block goog-flat-button" \n            style="text-align: center; font-size: 11px; line-height: 16px;">\n            Remote for Slides:<br>\n            <a id="rfgs_app_url" style="font-size: 14px; color: #e3e3e3; text-decoration: none; font-weight: 500;" href="https://slides.limhenry.xyz" target="_blank">s.limhenry.xyz</a>\n        </div>\n        <div class=\'goog-toolbar-separator goog-toolbar-separator-disabled goog-inline-block\' id=\'rfgs_divider\' style=\'display: none\'></div>\n        <div class="goog-inline-block goog-flat-button" id="rfgs_refresh_id_container" style="display: none">\n            <div class="punch-viewer-captioned-button" id="rfgs_refresh_id">\n                <div style="width:24px; height:24px">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"\n                        style="pointer-events: none; display: block; width: 100%; height: 100%; fill: #cacaca;">\n                        <path fill="none" d="M0 0h24v24H0V0z"/>\n                        <path d="M17.65 6.35c-1.63-1.63-3.94-2.57-6.48-2.31-3.67.37-6.69 3.35-7.1 7.02C3.52 \n                        15.91 7.27 20 12 20c3.19 0 5.93-1.87 7.21-4.56.32-.67-.16-1.44-.9-1.44-.37 \n                        0-.72.2-.88.53-1.13 2.43-3.84 3.97-6.8 3.31-2.22-.49-4.01-2.3-4.48-4.52C5.31 9.44 \n                        8.26 6 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 \n                        1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z"/>\n                    </svg>\n                </div>\n                <div class="punch-viewer-speaker-notes-text goog-inline-block">Refresh ID</div>\n            </div>\n        </div>\n        <div class="goog-inline-block goog-flat-button" id="rfgs_stop_remote_container" style="display: none">\n            <div class="punch-viewer-captioned-button" id="rfgs_stop_remote">\n                <div style="width:24px; height:24px">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"\n                        style="pointer-events: none; display: block; width: 100%; height: 100%; fill: #cacaca;">\n                        <path fill="none" d="M0 0h24v24H0V0z"/>\n                        <path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 \n                            0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 \n                            1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 \n                            12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/>\n                    </svg>\n                </div>\n                <div class="punch-viewer-speaker-notes-text goog-inline-block">Stop Remote</div>\n            </div>\n        </div>\n    ', e.appendChild(t), document.querySelector("#rfgs_refresh_id").addEventListener("click", function() {
                chrome.storage.sync.remove(o, function() {
                    s.ref("/slides/" + n).remove(), n = p(), g().then(function() {
                        var e = document.querySelector("#rfgs_id_container");
                        e.style.letterSpacing = "0px", e.innerHTML = n, document.querySelector("#rfgs_app_url").href = "https://slides.limhenry.xyz/".concat(n), f("gslides"), m("gslides"), y("gslides"), setTimeout(function() {
                            document.querySelector("#rfgs_show_id .punch-viewer-speaker-notes-text").innerHTML = "Show ID", e.style.letterSpacing = "1px", e.innerHTML = "******"
                        }, 8e3), a("button", "click", "refresh_id"), d("/present/".concat(n))
                    })
                })
            }), document.querySelector("#rfgs_stop_remote").addEventListener("click", function() {
                var e;
                i.child("current_slide").off("value"), e = "gslides", s.ref("/slides/" + n).set({
                    offline: !0,
                    timestamp: parseInt(Date.now()),
                    type: e
                }), c = !1, document.querySelector("#rfgs_id_block").style.display = "none", document.querySelector("#rfgs_divider").style.display = "none", document.querySelector("#rfgs_stop_remote_container").style.display = "none", document.querySelector("#rfgs_refresh_id_container").style.display = "none", document.querySelector("#rfgs_id_container").innerHTML = "-", document.querySelector("#rfgs_show_id .punch-viewer-speaker-notes-text").innerHTML = "Start Remote", document.querySelector("#rfgs_app_url").href = "https://slides.limhenry.xyz/", a("button", "click", "stop_remote")
            }), document.querySelector("#rfgs_show_id").addEventListener("click", function() {
                s = firebase.database(), b();
                var e = document.querySelector("#rfgs_show_id .punch-viewer-speaker-notes-text"),
                    t = document.querySelector("#rfgs_id_container");
                c ? (e.innerHTML = "Hide ID", document.querySelector("#rfgs_stop_remote_container").style.display = "inline-block", t.style.letterSpacing = "0px", t.innerHTML = n, m("gslides"), setTimeout(function() {
                    e.innerHTML = "Show ID", t.style.letterSpacing = "1px", t.innerHTML = "******"
                }, 8e3), a("button", "click", "show_id")) : (n = p(), e.innerHTML = "Loading", t.style.letterSpacing = "1px", t.innerHTML = "......", g().then(function() {
                    e.innerHTML = "Hide ID", document.querySelector("#rfgs_id_block").style.display = "inline-block", document.querySelector("#rfgs_divider").style.display = "inline-block", document.querySelector("#rfgs_stop_remote_container").style.display = "inline-block", document.querySelector("#rfgs_refresh_id_container").style.display = "inline-block", document.querySelector("#rfgs_app_url").href = "https://slides.limhenry.xyz/".concat(n), t.style.letterSpacing = "0px", t.innerHTML = n, f("gslides"), m("gslides"), y("gslides"), setTimeout(function() {
                        e.innerHTML = "Show ID", t.style.letterSpacing = "1px", t.innerHTML = "******"
                    }, 8e3), a("button", "click", "start_remote"), d("/present/".concat(n))
                }))
            })
        },
        v = function(e) {
            var t, o;
            switch (e) {
                case "ludus":
                    o = document.querySelector("#current-slide");
                    break;
                case "gslides":
                    o = parseInt(document.querySelector(".goog-flat-menu-button-caption").getAttribute("aria-posinset")), t = l ? r.docData[1][o - 1][9] : null
            }
            s.ref("/slides/" + n).update({
                current_slide: o,
                speaker_note: t,
                timestamp: parseInt(Date.now())
            })
        },
        y = function(e) {
            i = s.ref("slides/" + n), "gslides" === e && i.child("showSpeakerNote").on("value", function(t) {
                var n = t.val();
                (null === n || n) && (l = !0, v(e)), !1 === n && (l = !1)
            }), i.child("current_slide").on("value", function() {
                i.once("value").then(function(t) {
                    var o = t.val();
                    switch (e) {
                        case "ludus":
                            var r = parseInt(document.querySelector("#current-slide").innerHTML);
                            o.current_slide != r && (o.current_slide > r ? (s.ref("/slides/" + n).update({
                                current_slide: r + 1,
                                timestamp: parseInt(Date.now())
                            }), window.postMessage("nextSlide", location.origin)) : o.current_slide < r && (s.ref("/slides/" + n).update({
                                current_slide: r - 1,
                                timestamp: parseInt(Date.now())
                            }), window.postMessage("previousSlide", location.origin)));
                            break;
                        case "gslides":
                            var i = parseInt(document.querySelector(".goog-flat-menu-button-caption").getAttribute("aria-posinset"));
                            if (o && o.current_slide !== i) {
                                var c = new MutationObserver(function() {
                                        v(e), c.disconnect()
                                    }),
                                    l = new MutationObserver(function() {
                                        v(e), l.disconnect()
                                    }),
                                    a = {
                                        attributes: !0,
                                        childList: !0,
                                        characterData: !0,
                                        subtree: !0
                                    };
                                c.observe(document.querySelector(".punch-viewer-content"), a), o.current_slide > i && u("next"), o.current_slide < i && (l.observe(document.querySelector(".goog-flat-menu-button-caption"), a), u("previous"))
                            }
                    }
                })
            })
        },
        b = function() {
            var e = document.createElement("script");
            e.id = "tmpScript", scriptContent = "document.querySelector('body').setAttribute('viewerData', JSON.stringify(viewerData))", e.appendChild(document.createTextNode(scriptContent)), (document.body || document.head || document.documentElement).appendChild(e), r = JSON.parse(document.querySelector("body").getAttribute("viewerData")), document.querySelector("#tmpScript").remove(), document.querySelector("body").removeAttribute("viewerData")
        };
    ! function() {
        switch (window.location.host) {
            case "docs.google.com":
                var e = window.location.pathname;
                if (e.includes("/presentation/d/")) {
                    var t = e.replace("/presentation/d/", "");
                    t.includes("/edit") && function() {
                        var e = document.createElement("style");
                        e.innerHTML = "\n        #rfgs_present_with_remote_container:hover {\n            box-shadow: none!important;\n        }\n        #rfgs_present_with_remote {\n            background-image: none;\n            border-radius: 4px;\n            box-shadow: none;\n            box-sizing: border-box;\n            font-family: var(--docs-material-header-font-family,Roboto,RobotoDraft,Helvetica,Arial,sans-serif);\n            font-weight: var(--docs-material-font-weight-bold,500);\n            font-size: 14px;\n            height: 36px;\n            letter-spacing: 0.25px;\n            line-height: 16px;\n            background: white;\n            border: 1px solid #dadce0!important;\n            color: #202124;\n            padding: 9px 11px 10px 12px;\n            cursor: pointer;\n            transition: all 150ms ease;\n        }\n\n        #rfgs_present_with_remote:hover {\n            border: 1px solid #feedbc!important;\n            background-color: #fffdf6;\n        }\n    ", (document.head || document.documentElement).appendChild(e);
                        var t = document.querySelector(".punch-start-presentation-container"),
                            n = document.createElement("a"),
                            o = document.createElement("div");
                        n.className = "punch-start-presentation-container", n.id = "rfgs_present_with_remote_container", n.style.textDecoration = "none", n.target = "_blank", n.href = window.location.href.replace("edit", "present"), o.className = "goog-inline-block jfk-button jfk-button-standard jfk-button-collapse-right docs-titlebar-button jfk-button-clear-outline", o.innerHTML = "Present w/ Remote", o.id = "rfgs_present_with_remote", n.appendChild(o), t.before(n)
                    }(), t.includes("/present") && (h(), o = t.split("/")[0])
                }
                break;
            case "app.ludus.one":
                var r = document.createElement("script");
                r.id = "tmpScript", scriptContent = "document.querySelector('body').setAttribute('presentationid', window.presentationId);", r.appendChild(document.createTextNode(scriptContent)), (document.body || document.head || document.documentElement).appendChild(r), o = document.querySelector("body").getAttribute("presentationid"), document.querySelector("#tmpScript").remove(), document.querySelector("body").removeAttribute("presentationid"), (window.name.includes("ludus_viewer_") || window.name.includes("ludus_embed_")) && (waitForElementToDisplay = function() {
                    if (null !== document.querySelector("#current-slide")) return s = firebase.database(), void g().then(function() {
                        chrome.runtime.sendMessage({
                            from: "content",
                            subject: "showNotification",
                            msg: "Enter code: ".concat(n, " in s.limhenry.xyz")
                        }), f("ludus"), m("ludus"), y("ludus")
                    });
                    setTimeout(function() {
                        document.querySelector("#current-slide")
                    }, 1e3)
                }, waitForElementToDisplay())
        }
    }()
}]);